# üìÅ –§–∞–π–ª–∏ –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ω–∞ Hetzner

## –°–ø–∏—Å–æ–∫ –Ω–æ–≤–∏—Ö —Ñ–∞–π–ª—ñ–≤ –¥–ª—è Hetzner

### üìò –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

1. **[HETZNER_SETUP.md](./HETZNER_SETUP.md)** - –ü–æ–≤–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ —É—Å—ñ–º–∞ –¥–µ—Ç–∞–ª—è–º–∏
2. **[HETZNER_QUICK_START.md](./HETZNER_QUICK_START.md)** - –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç –∑–∞ 15 —Ö–≤–∏–ª–∏–Ω
3. **[HETZNER_FILES_INFO.md](./HETZNER_FILES_INFO.md)** - –¶–µ–π —Ñ–∞–π–ª, –æ–ø–∏—Å –≤—Å—ñ—Ö —Ñ–∞–π–ª—ñ–≤

### üê≥ Docker –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

4. **[docker-compose.yml](./docker-compose.yml)**
   - Docker Compose –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –¥–ª—è Hetzner
   - –í–∫–ª—é—á–∞—î PostgreSQL + Strapi
   - –õ–æ–∫–∞–ª—å–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ
   - –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è: `docker-compose up -d`

### üîß –°–∫—Ä–∏–ø—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó

5. **[setup-server.sh](./setup-server.sh)**
   - –°–∫—Ä–∏–ø—Ç –ø–µ—Ä—à–æ—ó –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä–∞
   - –í—Å—Ç–∞–Ω–æ–≤–ª—é—î: Docker, Docker Compose, Nginx, Certbot, UFW
   - –ù–∞–ª–∞—à—Ç–æ–≤—É—î swap, —Ñ–∞–π—Ä–≤–æ–ª, –∞–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω–Ω—è
   - –ó–∞–ø—É—Å–∫: `./setup-server.sh`

6. **[deploy.sh](./deploy.sh)**
   - –°–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—é/–æ–Ω–æ–≤–ª–µ–Ω–Ω—è Strapi
   - Git pull + Docker build + Docker up
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É
   - –ó–∞–ø—É—Å–∫: `./deploy.sh`

### ‚öôÔ∏è –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏

7. **[.env.example](./.env.example)**
   - –ü—Ä–∏–∫–ª–∞–¥ .env —Ñ–∞–π–ª—É –¥–ª—è Hetzner
   - –ó PostgreSQL –∑–∞–º—ñ—Å—Ç—å Supabase
   - –¢—Ä–µ–±–∞ —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –≤ .env —Ç–∞ –∑–∞–ø–æ–≤–Ω–∏—Ç–∏ —Å–≤–æ—ó–º–∏ –¥–∞–Ω–∏–º–∏

8. **Nginx –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è** (–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó [HETZNER_SETUP.md](./HETZNER_SETUP.md))
   - –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Nginx –¥–ª—è reverse proxy
   - –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ WebSocket, –≤–µ–ª–∏–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤ (100MB)
   - –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –≤ `/etc/nginx/sites-available/`

---

## üîÑ –í—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç—ñ –≤—ñ–¥ Oracle Cloud –≤–µ—Ä—Å—ñ—ó

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –°—Ç–∞—Ä—ñ —Ñ–∞–π–ª–∏ (Oracle) | –ù–æ–≤—ñ —Ñ–∞–π–ª–∏ (Hetzner) |
|----------|----------------------|----------------------|
| **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö** | Supabase (–∑–æ–≤–Ω—ñ—à–Ω—è) | PostgreSQL –≤ Docker |
| **Docker Compose** | `docker-compose.yml` (Supabase) | `docker-compose.yml` (PostgreSQL) |
| **Deploy —Å–∫—Ä–∏–ø—Ç** | `deploy.sh` | `deploy.sh` (–æ–Ω–æ–≤–ª–µ–Ω–æ) |
| **Setup —Å–∫—Ä–∏–ø—Ç** | `setup-server.sh` (Oracle) | `setup-server.sh` (Hetzner) |
| **–¶—ñ–Ω–∞** | –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ (—è–∫—â–æ —î –º—ñ—Å—Ü—è) | ‚Ç¨5.39/–º—ñ—Å |
| **RAM** | –î–æ 24 GB | 4 GB (CPX21) |

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –í—Å—ñ —Å—Ç–∞—Ä—ñ —Ñ–∞–π–ª–∏ –¥–ª—è Oracle Cloud –≤–∏–¥–∞–ª–µ–Ω—ñ, –∑–∞–ª–∏—à–∏–ª–∏—Å—è —Ç—ñ–ª—å–∫–∏ —Ñ–∞–π–ª–∏ –¥–ª—è Hetzner.

---

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –õ–æ–∫–∞–ª—å–Ω–æ (–ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞):

```bash
# –°–∫–æ–ø—ñ—é–π .env.example –≤ .env
cp .env.example .env

# –í—ñ–¥—Ä–µ–¥–∞–≥—É–π .env (–∑–∞–ø–æ–≤–Ω–∏ —Å–≤–æ—ó –¥–∞–Ω—ñ!)
nano .env

# –ó–∞–∫–æ–º—ñ—á—å –∑–º—ñ–Ω–∏
git add .
git commit -m "Add Hetzner deployment configuration"
git push
```

### 2. –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ Hetzner:

```bash
# –ù–∞–ª–∞—à—Ç—É–π —Å–µ—Ä–≤–µ—Ä
./setup-server.sh

# –ö–ª–æ–Ω—É–π –ø—Ä–æ–µ–∫—Ç
cd /opt/barbitch-strapi
git clone https://github.com/YOUR_USER/barbitch-strapi.git .

# –°—Ç–≤–æ—Ä–∏ .env (—Å–∫–æ–ø—ñ—é–π –∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ)
nano .env

# –ó–∞–ø—É—Å—Ç–∏ –¥–µ–ø–ª–æ–π
./deploy.sh
```

### 3. –ù–∞–ª–∞—à—Ç—É–π Nginx —Ç–∞ SSL:

–î–∏–≤–∏—Å—å –¥–µ—Ç–∞–ª—å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –≤ [HETZNER_SETUP.md](./HETZNER_SETUP.md) —Ä–æ–∑–¥—ñ–ª 5.2 —Ç–∞ 5.4

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é

```
/opt/barbitch-strapi/
‚îú‚îÄ‚îÄ .env                          # –ó–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è
‚îú‚îÄ‚îÄ docker-compose.hetzner.yml    # Docker –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ deploy-hetzner.sh            # –°–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—é
‚îú‚îÄ‚îÄ Dockerfile                    # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ package.json                  # NPM –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ src/                         # –ö–æ–¥ Strapi
‚îî‚îÄ‚îÄ ...

Docker volumes:
‚îú‚îÄ‚îÄ postgres-data/               # –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö PostgreSQL
‚îî‚îÄ‚îÄ strapi-uploads/              # –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ —Ñ–∞–π–ª–∏ (—è–∫—â–æ –Ω–µ Cloudinary)
```

---

## üîê –í–∞–∂–ª–∏–≤—ñ –Ω—é–∞–Ω—Å–∏

### –ë–µ–∑–ø–µ–∫–∞ .env —Ñ–∞–π–ª—É

‚ö†Ô∏è **–ù–Ü–ö–û–õ–ò –Ω–µ –∫–æ–º—ñ—Ç–∏—Ç—å .env –∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ –ø–∞—Ä–æ–ª—è–º–∏ –≤ Git!**

```bash
# .env –≤–∂–µ –≤ .gitignore, –∞–ª–µ –ø–µ—Ä–µ–≤—ñ—Ä:
git status
# –ù–µ –ø–æ–≤–∏–Ω–Ω–æ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ .env —Ñ–∞–π–ª
```

### –ë–µ–∫–∞–ø –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

```bash
# –ï–∫—Å–ø–æ—Ä—Ç –±–∞–∑–∏
docker exec barbitch-strapi-db pg_dump -U strapi strapi > backup.sql

# –Ü–º–ø–æ—Ä—Ç –±–∞–∑–∏
cat backup.sql | docker exec -i barbitch-strapi-db psql -U strapi -d strapi
```

### –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å—ñ–≤

```bash
# –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–∏—Å–∫—É
df -h
docker system df

# –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è RAM
free -h

# –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è CPU
htop
```

---

## üÜò Troubleshooting

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è

```bash
# –î–∏–≤–∏—Å—å –ª–æ–≥–∏
docker-compose logs

# –ü–µ—Ä–µ–±—É–¥—É–π –±–µ–∑ –∫–µ—à—É
docker-compose build --no-cache

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏
docker-compose restart
```

### –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä —â–æ PostgreSQL –ø—Ä–∞—Ü—é—î
docker-compose ps

# –ó–∞–π–¥–∏ –≤ –±–∞–∑—É –≤—Ä—É—á–Ω—É
docker exec -it barbitch-strapi-db psql -U strapi -d strapi
```

### Nginx –Ω–µ –ø—Ä–∞—Ü—é—î

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä –∫–æ–Ω—Ñ—ñ–≥
nginx -t

# –î–∏–≤–∏—Å—å –ª–æ–≥–∏
tail -f /var/log/nginx/error.log

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏
systemctl restart nginx
```

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç–∏ —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ –≤–∏–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º–∏:
1. –ü–µ—Ä–µ–≤—ñ—Ä [HETZNER_SETUP.md](./HETZNER_SETUP.md) - –ø–æ–≤–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è
2. –ü–æ–¥–∏–≤–∏—Å—å –ª–æ–≥–∏ Docker: `docker-compose -f docker-compose.hetzner.yml logs`
3. –ü–æ–¥–∏–≤–∏—Å—å –ª–æ–≥–∏ Nginx: `tail -f /var/log/nginx/error.log`
4. –ü–∏—Ç–∞–π —É —á–∞—Ç—ñ!

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –¥–µ–ø–ª–æ—é

- [ ] –°—Ç–≤–æ—Ä–∏–≤ Hetzner –∞–∫–∞—É–Ω—Ç
- [ ] –°—Ç–≤–æ—Ä–∏–≤ —Å–µ—Ä–≤–µ—Ä CPX21
- [ ] –ù–∞–ª–∞—à—Ç—É–≤–∞–≤ DNS (A-–∑–∞–ø–∏—Å)
- [ ] –í–∏–∫–æ–Ω–∞–≤ setup-hetzner.sh
- [ ] –ö–ª–æ–Ω—É–≤–∞–≤ –ø—Ä–æ–µ–∫—Ç
- [ ] –°—Ç–≤–æ—Ä–∏–≤ .env –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏
- [ ] –ó–∞–ø—É—Å—Ç–∏–≤ deploy-hetzner.sh
- [ ] –ù–∞–ª–∞—à—Ç—É–≤–∞–≤ Nginx
- [ ] –í—Å—Ç–∞–Ω–æ–≤–∏–≤ SSL —á–µ—Ä–µ–∑ Certbot
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏–≤ —â–æ Strapi –ø—Ä–∞—Ü—é—î —á–µ—Ä–µ–∑ HTTPS
- [ ] –ó—Ä–æ–±–∏–≤ –±–µ–∫–∞–ø –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

---

–£—Å–ø—ñ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—é! üöÄ
